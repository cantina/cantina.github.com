<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>node_modules&#x2F;cantina&#x2F;lib&#x2F;plugins&#x2F;utils.js - Cantina</title>
    <link rel="stylesheet" href="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;3.5.1&#x2F;build&#x2F;cssgrids&#x2F;cssgrids-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="..&#x2F;assets/favicon.png">
    <script src="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;combo?3.5.1&#x2F;build&#x2F;yui&#x2F;yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="..&#x2F;assets/css/logo.png" title="Cantina"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.4.0</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="..&#x2F;classes/app.html">app</a></li>
            
                <li><a href="..&#x2F;classes/app.views.html">app.views</a></li>
            
                <li><a href="..&#x2F;classes/cantina.html">cantina</a></li>
            
                <li><a href="..&#x2F;classes/cantina.cli.html">cantina.cli</a></li>
            
                <li><a href="..&#x2F;classes/cantina.plugins.controllers.html">cantina.plugins.controllers</a></li>
            
                <li><a href="..&#x2F;classes/cantina.plugins.http.html">cantina.plugins.http</a></li>
            
                <li><a href="..&#x2F;classes/cantina.plugins.middleware.html">cantina.plugins.middleware</a></li>
            
                <li><a href="..&#x2F;classes/cantina.plugins.utils.html">cantina.plugins.utils</a></li>
            
                <li><a href="..&#x2F;classes/views.html">views</a></li>
            
                <li><a href="..&#x2F;classes/views.plugin.html">views.plugin</a></li>
            
                <li><a href="..&#x2F;classes/views.plugin.helpers.html">views.plugin.helpers</a></li>
            
                <li><a href="..&#x2F;classes/views.plugin.partials.html">views.plugin.partials</a></li>
            
                <li><a href="..&#x2F;classes/views.plugin.registry.html">views.plugin.registry</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="..&#x2F;modules/cantina.html">cantina</a></li>
            
                <li><a href="..&#x2F;modules/views.html">views</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: node_modules&#x2F;cantina&#x2F;lib&#x2F;plugins&#x2F;utils.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
&#x2F;**
 * Cantina Utils Plugin
 * --------------------
 *
 * Utility functions for use inside and outside of cantina apps.
 *
 * @module cantina
 * @exports {Object} The utils plugin.
 * @requires url
 *&#x2F;

&#x2F;&#x2F; Module dependencies.
var parse = require(&#x27;url&#x27;).parse;

&#x2F;&#x2F; Cached urls.
var _parsedUrls = {};

&#x2F;**
 * Utils Plugin
 * ------------
 *
 * Provides utility function and exposes them on a cantina application object.
 *
 * @class cantina.plugins.utils
 *&#x2F;
var utils = module.exports = {
  name: &#x27;utils&#x27;,
  description: &#x27;Utility functions for cantina apps&#x27;
};

&#x2F;**
 * Attach the plugin to an application.
 *
 * @method attach
 * @param options {Object} The plugin options.
 *&#x2F;
utils.attach = function(options) {
  var app = this;

  &#x2F;**
   * Application utilities (mirrored from &#x60;cantina.plugins.utils&#x60;).
   *
   * Please see the &#x60;cantina.plugins.utils&#x60; docs for more info.
   *
   * @property utils
   * @type {Object}
   * @for app
   *&#x2F;
  app.utils = app.utils || {};

  &#x2F;&#x2F; Expose utils on the app object.
  app.utils.defaults = utils.defaults;
  app.utils.lazy = utils.lazy;
  app.utils.parseUrl = utils.parseUrl;
};

&#x2F;**
 * Extend an object with defaults.
 *
 * @method defaults
 * @param obj {Object} The object to extend.
 * @param props {Object} An object containing the defaults.
 * @for cantina.plugins.utils
 *
 * @example
 *     var options = {
 *       color: &#x27;red&#x27;
 *     };
 *
 *     app.utils.defaults(options, {
 *       color: &#x27;blue&#x27;,
 *       size: &#x27;small&#x27;
 *     });
 *
 *     console.dir(options);
 *     &#x2F;&#x2F; { color: &#x27;red&#x27;, size: &#x27;small&#x27; }
 *&#x2F;
utils.defaults = function(obj, props) {
  for (var prop in props) {
    if (props.hasOwnProperty(prop)) {
      if (!obj.hasOwnProperty(prop)) {
        obj[prop] = props[prop];
      }
    }
  }
};

&#x2F;**
 * Attach modules to an object as lazy-loaded properties.
 *
 * @method lazy
 * @param obj {Object} The target object to extend with the module properties.
 * @param [root] {String} A path for which the &#x60;paths&#x60; will be assumed to be
 *   relative to.
 * @param paths {Object} An object where keys are property names and values
 *   are paths to modules.
 * @for cantina.plugins.utils
 *
 * @example
 *     &#x2F;&#x2F; Expose some sub-modules as lazy-loaded exports.
 *     cantina.plugins.utils.lazy(module.exports, __dirname, {
 *       cool: &#x27;submodules&#x2F;cool&#x27;,
 *       groovy: &#x27;submodules&#x2F;groovy&#x27;
 *     });
 *
 *     &#x2F;&#x2F; Now module.exports will have &#x60;cool&#x60; and &#x60;groovy&#x60; properties that,
 *     &#x2F;&#x2F; when accessed, will require() their respective modules and provide
 *     &#x2F;&#x2F; those module&#x27;s exports.
 *&#x2F;
utils.lazy = function(obj, root, paths) {
  var path = require(&#x27;path&#x27;);

  if (!paths) {
    paths = root;
    root = false;
  }

  for (var prop in paths) {
    (function(prop) {
      if (paths.hasOwnProperty(prop)) {
        if (root) {
          paths[prop] = path.resolve(root, paths[prop]);
        }
        obj.__defineGetter__(prop, function () {
          var priv = &#x27;_&#x27; + prop;
          if (!obj[priv]) {
            obj[priv] = require(paths[prop]);
          }
          return obj[priv];
        });
      }
    })(prop);
  }
}

&#x2F;**
 * Parse a url and cache the results for repeated calls.
 *
 * @method parseUrl
 * @param url {String} The url to parse.
 * @return {Object} The parsed url.
 * @for cantina.plugins.utils
 *&#x2F;
utils.parseUrl = function(url) {
  var parsed = _parsedUrls[url];
  if (parsed) {
    return parsed;
  }
  else {
    return _parsedUrls[url] = parse(url);
  }
}

    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="..&#x2F;assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="..&#x2F;assets/js/yui-prettify.js"></script>
<script src="..&#x2F;assets/../api.js"></script>
<script src="..&#x2F;assets/js/api-filter.js"></script>
<script src="..&#x2F;assets/js/api-list.js"></script>
<script src="..&#x2F;assets/js/api-search.js"></script>
<script src="..&#x2F;assets/js/apidocs.js"></script>
</body>
</html>
